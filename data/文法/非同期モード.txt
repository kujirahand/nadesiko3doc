■非同期モードについて

非同期モードを使うと、なでしこのプログラムを完全に非同期で実行できます。非同期モードを使うには、「!非同期モード」とプログラムの先頭に記述します。

> (メモ) また、なでしこ簡易エディタや貯蔵庫を使わないでHTMLでなでしこを使う場合には、「<script src="nako_gen_async.js">」の宣言を追加してください。

非同期モードでは、以下のように「N秒待機」や「AJAX受信」が使えます。

{{{#nako3(rows=9)
!非同期モード
3回繰り返す
　　「泣くのに時があり」と表示。
　　1秒待機
　　「笑うのに時があり」と表示。
　　1秒待機
　　「踊るのに時がある」と表示。
ここまで。
}}}

非同期モードのポイントは、敢えてコールバック関数や逐次実行の構文を使う必要がありません。自然にプログラムを記述できます。

{{{#nako3(rows=9)
!非同期モード
API=「https://api.aoikujira.com/time/get.php」
3回
　　「時間を取得します」と表示。
　　APIからAJAX受信。
　　対象を表示。
　　1秒待機
ここまで。
}}}

> 【メモ】現在、処理速度を稼ぐために、「N秒待機」を記述してはじめて、ブラウザのアイドル処理を経由します。


▲参考
- [[文法]]
- [[文法/逐次実行]]

