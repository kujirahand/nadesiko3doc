■DNCLモードについて

大学入試のセンター試験で利用される仮想的なプログラミング言語に「センター試験用手順記述標準言語(DNCL)」があります。

なでしことDNCLは同じ日本語をベースとしたプログラミング言語であり、文法も非常に似ています。しかし、微妙なところで違いがありました。そこで、なでしこにDNCLモードが実装されています。

●DNCLについて

・DNCLについての説明が[[こちら(PDF):https://www.dnc.ac.jp/albums/abm.php?f=abm00004841.pdf&n=H23_dncl.pdf]]より独立行政法人大学入試センターより公表されています。
・DNCLとなでしこの1:1の対応表もあります。 [[こちら(PDF):https://www.eznavi.net/site/press/eznavi/img/2021/20211013-1.pdf]]
・加えて、なでしこ上で、DNCLを実行するための、互換モードが用意されています。

●なでしこの『！DNCLモード』について

上記のDNCL仕様書に基づき、プログラムの冒頭に「!DNCLモード」と記述することで、なでしこの実行時にDNCLに沿った動作になるように調整が行われます。

具体的には、なでしこが次のような動作となります。

・（1）配列変数のインデックス番号が1起点となります。
・（2）二次元配列変数にアクセスする際、なでしこでは『変数名[Y][X]』と書くところを『変数名[X,Y]』と記述できます。(つまり、インデックスの指定順序が逆さまになります。)
・（3）配列変数の初期化が自動的に行われるようになります。なでしこでは実行速度の高速化のために、配列の初期化チェックは省かれますが、入試問題のDNCLでは配列を初期化せずに利用している場面があるため、DNCLモードでは、配列にアクセスする前に必ず初期化チェックが入ります。
・（4）DNCLの代入文・「もし」文・「繰り返し」文・「間」文が利用可能になります。これらは単純になでしこの制御構文に置換されるため、DNCLを使う場合には綴り間違いに気をつけてください。

●『!DNCLモード』の利用例

では、具体的に『!DNCLモード』を使ってみましょう。プログラムの冒頭に『!DNCLモード』と記述してください。

{{{#nako3(rows=3)
!DNCLモード
kosu←100
kosuと「個見つかった」を表示する
}}}

DNCLモードでは「aとbとを表示する」と『表示』命令を連続で記述可能です。

{{{#nako3(rows=3)
!DNCLモード
x←100, y←50
xと", "とyを表示する。
}}}

DNCLモードでは「nを1増やす」「nを1減らす」命令が使えます。

{{{#nako3(rows=5)
!DNCLモード
a←1
aを1増やす
aを表示する
}}}

DNCLモードでは「もし」文などの制御構文が、DNCLの「もし」文となります。

{{{#nako3(rows=9)
!DNCLモード
x←3
もし、x＞2ならば
|  x←x-1
を実行し、そうでなければ
|  x←x+1
を実行する
xを表示する。
}}}

●より具体的な例題は？

- [[DNCL 2016年度 第3問 問2:https://n3s.nadesi.com/index.php?page=910&action=show]]

●注意点

- DNCLの仕様書に沿って動くよう調整したものです。仮想的な言語であるDNCLの全てのソースコードが動くわけではありません。特に、現在、初期化していない変数の動作が不安定になります。変数は初期化してご利用ください。
- 明らかな問題があれば、[[こちら:https://nadesi.com/cgi/kaizen3/]]までご報告ください。



