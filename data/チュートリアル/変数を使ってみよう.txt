■変数を使ってみよう

- [[←前のページ:チュートリアル/なでしこで計算しよう]]

●変数とは？

今度は『変数』というものを使います。変数というのは、数字や文章を一時的に記憶しておく箱のようなものです。	変数の中にいろいろな値を入れることができます。

#ref(https://nadesi.com/v3/storage/image.php?f=18.png,w=300,*変数とは箱のようなもの)


変数を使うと、数字や文章を分かりやすく置き換えることができます。以下のプログラムは、『リンゴ』という変数に１００を記憶しています。

{{{#nako3(rows=3)
リンゴは100。
リンゴを表示。
}}}

一度変数に記憶した数値は表示したり計算したりするのに利用することができます。	

{{{#nako3(rows=3)
リンゴは１００。
リンゴ×２を表示。
}}}

上のプログラムを実行すると、２００が表示されます。

●変数は計算を分かりやすく見せる

まだ、変数が一体何なのか分からないと思いますが、使っているうちに分かるものです。気にせず読み進めてくださいね。	

変数を使うと計算式がとても見やすくなるんです。以下の例を見てください。上が変数を使わない計算。下が変数を使った計算です。どちらが分かりやすいですか？

{{{#nako3
# 変数を使わない例
(300×5＋250×４)×1.08を表示
}}}

{{{#nako3
# 変数を使う例
リンゴ値段は300 # 円
リンゴ個数は5 # 個
ミカン値段は250 # 円
ミカン個数は4 # 個
消費税率は1.08 # 持ち帰るので

# 計算する
（リンゴ値段×リンゴ個数＋ミカン値段×ミカン個数）×消費税率を表示。
}}}

計算式としてシンプルなのは上の方なんですが、変数を使うと、数字がいったい何を表しているのか分かりますね。	

そうなんです。もし、上の計算式だけあって、『リンゴをもう一つ余分に欲しいわ』などとおばちゃんに言われても、どれがリンゴの個数なのか分からないんです。その点、変数を使った計算では、リンゴが１つ増えたり、ミカンの値段が値上がりしても、すぐに修正ができます。	

●変数を使ってみよう

プログラミングでは、よく変数を使います。変数とは計算結果を一時的にメモリに保存しておく機能です。なでしこでは、以下のようにして変数に値を代入できます。

{{{#nako3(rows=8)
# 変数に値を代入
価格＝300
価格は300
300を価格に代入。

# 変数を参照する
価格を表示。
}}}



●変数を使うと毎回違う結果を表示できる！

次に変数を使わないと作れないプログラムを見ましょう。下のプログラムを実行すると「リンゴの個数はいくつですか？」と尋ねれられます。例えば５を入力すると1500が表示され、3を入力すれば、900が表示されます。

{{{#nako3(rows=4)
リンゴ値段は３００。
「リンゴの個数はいくつですか」と尋ねる。
それ×リンゴ値段を表示。
}}}

『「***」と尋ねる』と書くと、入力ダイアログが表示されて数値や文字を入力することができます。ユーザーが入力した値は、『それ』という特殊な変数に返されます。そこで、『それ』に値段をかけて表示すると正しく答えが表示されるのです。


●数字と文字を組み合わせて表示する方法

さて、上のプログラムでは、３を入力すると、900が、５を入力すると、1500が表示されましたが、数字の後に「円」をつけて、「1500円」と表示したい場合はどうしたら良いのでしょうか？	

なでしこでは、文章の中に変数を埋め込んで表示するための仕組みが用意されています。下のプログラムを実行してみてください。

{{{#nako3
値段は300
「値段は{値段}円です。」を表示。
}}}

これを実行すると、「値段は３００円です。」と表示されます。これは、どういうことなのかと言えば、カッコ「...」の中で、波カッコで　{変数名}　と、書いてあれば、変数の内容をその部分に表示するという意味になるのです。これだけ分かれば、先のプログラムを改造することができますね。

{{{#nako3
リンゴ値段は３００。
「リンゴの個数はいくつですか」と尋ねる。
支払額はリンゴ値段×それ
「支払い金額は、｛支払額｝円です。」を表示。
}}}

これを実行して、５を入力すれば、『支払い金額は、1500円です』と表示されます。




▲割引率を計算してみよう

簡単な問題を解いてプログラミングをマスターしましょう。

{{{#column
[問題] 定価1000円の寿司セットを3割引で売りたいとします。割り引き後の金額を表示してください。
}}}

このプログラムは以下のように作ることができます。

{{{#nako3(rows=4)
定価＝1000
割引率＝3
割引後金額＝定価×(10-割引率)×0.1
割引後金額を表示。
}}}

数字だけが表示されると、実行結果が分かりにくいので説明も一緒に表示するようにしてみましょう。文字列の中に、値を埋め込んで表示することができます。その場合、文字列の中で、「...{変数名}...」のように記述します。

以下のプログラムを実行すると、『寿司セットは1000円で、3割引きで700円です。』と表示します。

{{{#nako3(rows=9)
# --- 計算 ---
定価＝1000
割引率＝3
割引後金額＝定価×(10-割引率)×0.1
# --- 答えを分かりやすく表示 ---
「寿司セットは{定価}円で、
{割引率}割引きで
{割引後金額}円です。」を表示。
}}}


●肥満度チェックをしてみよう

ここで、ちょっと応用問題をやってみましょう。BMI法という肥満判定の公式があります。これは『標準体重＝２２×身長(m)×身長(m)』という式で、体重の目安を調べるものです。身長を入力してもらい、標準体重がいくらなのかを表示するプログラムを作ってみましょう。

{{{#nako3
「身長は何センチですか」と尋ねる。
身長Mはそれ÷100
標準体重は２２×身長M×身長M
「標準体重は、｛標準体重｝kgです。」と表示。
}}}

例えば、１７０を入力すると、「標準体重は、63.58ｋｇです。」と表示されます。これは、あくまでも成人の平均の標準体重ということです。その結果に一喜一憂しなくてもいいかと思います。

●歩いた歩数と消費カロリーをチェック

さて、肥満チェックをしたら、ついでに一日何歩歩いて、何カロリー消費したのかを確認してみましょう。昔から、一日一万歩歩くと、健康になると言われていますが、万歩計でも買わないと歩いている歩数なんか分かりません。そこで、体重60kgの人の場合、1分間100歩のペースで歩くと約3.3kcalを消費するというデータから、歩いた歩数と消費カロリーを算出してみましょう。

{{{#nako3
「何分歩きましたか？」と尋ねる。
歩いた分数はそれ。
歩数は１００×歩いた分数。
カロリーは、3.3×歩いた分数

「｛歩数｝歩、歩きました。
消費カロリーは｛カロリー｝kcalです」と表示。
}}}

●コメントについて

プログラムにちょっとした注釈や解説を書いておきたいことがあります。変数を使ったときに、この変数がどういう変数かメモしておきたい場合もあります。そんなときは以下のように『＃メモ内容』と書きます。すると『＃』以降の文字をコメントとして実行しないようになっています。	

{{{
＃このプログラムは
＃全部コメントなので
＃何もしません。	
}}}

上のプログラムは全部の行がコメントなので、実行しても、真っ白い画面が表示されるだけで何も実行されません！


●次へ進もう

- [[チュートリアル/条件分岐構文]]


