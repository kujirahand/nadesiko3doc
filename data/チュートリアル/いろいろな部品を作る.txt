●いろいろな部品を作る

なでしこ３では、ブラウザに用意されているいろいろな部品を使うことができます。

▲ボタンを作ろう

ボタンの簡単な使い方は、以下のチュートリアルで詳しく解説しています。

- [[チュートリアル/ボタンを作る]]

次のように「ボタン作成」を使って、任意のラベルを持つボタンを作成できます。

{{{#nako3(rows=4)
「格言を教えて」のボタン作成してOKボタンに代入。
それをクリックした時には：
　　「喜びは治療薬である」と言う。
}}}

また、部品を作成した直後は、特殊変数「それ」に作成した部品が代入されています。そのため、「それ」を利用してイベントを設定したり、プロパティを変更したりできます。

▲ラベルを作ろう

ラベルはボタンについで使い勝手の良い部品です。ラベルを表示するのに使えます。なお、「改行作成」命令を追加して使えます。

{{{#nako3
「不正に得た宝は何の役にも立たない」のラベル作成。
改行作成。
「腹が立っても罪を犯してはなりません」のラベル作成。
改行作成。
「洞察力があればすぐに怒ることはない」のラベル作成。
}}}

ラベルにはHTMLを設定できます。

{{{#nako3
『<span style="font-size:1.5em; line-height:1.5em">
<span style="background-color:red; color:white;">
不正に得た宝は…</span>
何の役にも立たない。</span>』のラベル作成。
}}}

- [[plugin_browser/ラベル作成]]
- [[plugin_browser/改行作成]]

▲エディタを作ろう

エディタを作るには「エディタ作成」命令を使います。次のように記述します。
以下はエディタを作成して「変更時」のイベントを処理する例です。

{{{#nako3(rows=10)
# --- ラベルとエディタを作る ---
「名前を入力してEnterを押してください」のラベル作成。
改行作成。
Fエディタ＝「」のエディタ作成。改行作成。
F結果＝「＊＊＊」のエディタ作成。

# --- 変更時のイベントを設定 ---
Fエディタを変更した時には：
　　F名前=Fエディタからテキスト取得。
　　「{F名前}さん、こんにちは！」をF結果にテキスト設定。
}}}

エディタの内容を変更した時には「変更した時」関数を使って、イベントを処理できます。このイベントは[Enter]キーを押したり、エディタからフォーカスが外れた時に発生します。

- [[plugin_system/エディタ作成]]
- [[plugin_system/変更時]]

そして、エディタからテキストを取得したり、内容を変更するには、「テキスト取得」関数と「テキスト設定」関数を利用します。

- [[plugin_system/テキスト設定]]
- [[plugin_system/テキスト取得]]

▲プロパティ構文で楽に設定しよう

作成した部品に対して、「部品$幅=5em」のように記述すると、属性・スタイルを設定できます。

{{{#nako3
「サイコロを振る」のボタン作成
その$幅=10em
その$背景色=赤色
そのクリックした時には：
　　R=1…6の乱数
　　「🎲の目は、{R} でした」と表示。
}}}

詳しい動作についてはプロパティ構文を確認してください。

- [[文法/プロパティ構文「$」]]

▲エディタで「部品$値」を使う方法

また、プロパティ構文を使うと、「エディタ部品$値」でエディタのテキストを取得できます。

{{{#nako3(rows=10)
# --- ラベルとエディタを作る ---
「名前:」のラベル作成。改行作成。
F名前＝「クジラ」のエディタ作成。
決定ボタン＝「決定」のボタン作成。改行作成。
F結果＝「＊＊＊」のエディタ作成。
# ---イベントを設定 ---
「挨拶処理」でF名前を変更した時。
「挨拶処理」で決定ボタンをクリックした時。
# --- 実際の処理 ---
●挨拶処理とは：
　　F結果$値=「{F名前$値}さん、こんにちは✨」
}}}

- [[文法/プロパティ構文「$」]]

▲テキストエリアを作ろう

複数行のテキストを入力するには「テキストエリア作成」命令を利用します。

{{{#nako3(rows=8)
# --- テキストエリアを作成 ---
F本文=「1{改行}2{改行}3」のテキストエリア作成。
# --- プロパティを設定 ---
その$幅=15em。
その$高さ=5em。
# --- 改行削除のボタン ---
「改行削除」のボタン作成。
そのクリックした時には：
　　F本文$値=F本文$値の改行を「」に置換
}}}

テキストエリアも、「部品$値」でそのテキストを参照したり設定したりできます。

- [[plugin_browser/テキストエリア作成]]

▲キャンバスを作ろう

キャンバスを作成すると、そこに円描画などで図形や画像を描画できます。

{{{#nako3
[200,200]のキャンバス作成して、新キャンバスに代入。
赤色に塗色設定。
[100,100]に100の円描画。
}}}

「円描画」や「塗色設定」は、[[こちら:plugin_browser/描画]]に描画系の命令がまとまっています。

- [[plugin_browser/キャンバス作成]]
- [[plugin_browser/描画]] --- 描画に関する命令の一覧

似た命令に「[[画像作成:plugin_browser/画像作成]]」があります。「画像作成」は描画などはできず、画像だけを表示するだけの部品です。

▲リファレンス - 作成できる部品の一覧はこちら

- [[plugin_browser/DOM部品操作]] --- いろいろな部品を作成する命令があります

▲参考

- [[チュートリアル/ボタンを作る]]
- [[チュートリアル/いろいろな部品を作る]]
- [[チュートリアル/フォーム作成]]

