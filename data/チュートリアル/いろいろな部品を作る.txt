●いろいろな部品を作る

なでしこ３では、ブラウザに用意されているいろいろな部品を使うことができます。

▲ボタンを作ろう

ボタンの簡単な使い方は、以下のチュートリアルで詳しく解説しています。

- [[チュートリアル/ボタンを作る]]

次のように「ボタン作成」を使って、任意のラベルを持つボタンを作成できます。

{{{#nako3(rows=4)
「格言を教えて」のボタン作成してOKボタンに代入。
それをクリックした時には：
　　「喜びは治療薬である」と言う。
}}}

また、部品を作成した直後は、特殊変数「それ」に作成した部品が代入されています。そのため、「それ」を利用してイベントを設定したり、プロパティを変更したりできます。

▲ラベルを作ろう

ラベルはボタンについで使い勝手の良い部品です。ラベルを表示するのに使えます。なお、「改行作成」命令を追加して使えます。

{{{#nako3
「不正に得た宝は何の役にも立たない」のラベル作成。
改行作成。
「腹が立っても罪を犯してはなりません」のラベル作成。
改行作成。
「洞察力があればすぐに怒ることはない」のラベル作成。
}}}

ラベルにはHTMLを設定できます。

{{{#nako3
『<span style="background-color:red; color:white;">
不正に得た<br>💎宝は何の役にも立たない。
</span』のラベル作成。
}}}

- [[plugin_browser/ラベル作成]]
- [[plugin_browser/改行作成]]

▲エディタを作ろう

エディタを作るには「エディタ作成」命令を使います。次のように記述します。
以下はエディタを作成して「変更時」のイベントを処理する例です。

{{{#nako3(rows=10)
# --- ラベルとエディタを作る ---
「名前を入力してEnterを押してください」のラベル作成。改行作成。
Fエディタ＝「」のエディタ作成。改行作成。
F結果＝「＊＊＊」のエディタ作成。
# --- 変更時のイベントを設定 ---
Fエディタを変更した時には：
　　Fエディタからテキスト取得。
　　それをF結果にテキスト設定。
}}}

エディタの内容を変更した時には「変更した時」関数を使って、イベントを処理できます。このイベントは[Enter]キーを押したり、エディタからフォーカスが外れた時に発生します。

- [[plugin_system/エディタ作成]]
- [[plugin_system/変更時]]

そして、エディタからテキストを取得したり、内容を変更するには、「テキスト取得」関数と「テキスト設定」関数を利用します。

- [[plugin_system/テキスト設定]]
- [[plugin_system/テキスト取得]]

▲テキストエリアを作ろう

複数行のテキストを入力するには「テキストエリア作成」命令を利用します。

{{{#nako3(rows=8)
F本文=「1{改行}2{改行}3」のテキストエリア作成。
その$幅=15em。
その$高さ=5em。
改行作成。
「取得」のボタン作成。
そのクリックした時には：
　　F本文のテキスト取得して言う。
}}}

- [[plugin_browser/テキストエリア作成]]

▲プロパティ構文で楽に設定しよう

作成した部品に対して、「部品$幅=5em」のように記述すると、属性・スタイルを設定できます。

{{{#nako3
「サイコロを振る」のボタン作成
その$幅=10em
その$背景色=赤色
そのクリックした時には：
　　R=1…6の乱数
　　「🎲の目は、{R} でした」と表示。
}}}

詳しい動作についてはプロパティ構文を確認してください。

- [[文法/プロパティ構文「$」]]

▲「エディタ部品$値」を利用しよう

プロパティ構文を使うと、エディタ部品もより簡潔に記述できます。

{{{#nako3(rows=10)
「以下に入力してEnterを押してください」のラベル作成。
改行作成。
Fエディタ1＝「」のエディタ作成。
その$幅=10em
改行作成。
Fエディタ2＝「」のエディタ作成。
その$幅=10em
その$背景色=RGB(220,220,200)
Fエディタ2の「読み取り専用」にオンをDOM属性設定
Fエディタ1の変更した時には：
　　Fエディタ2$値=Fエディタ1$値
}}}

▲リファレンス

- [[plugin_browser/DOM部品操作]] --- いろいろな部品を作成する命令があります

▲参考

- [[チュートリアル/ボタンを作る]]
- [[チュートリアル/いろいろな部品を作る]]
